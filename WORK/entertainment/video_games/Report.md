# Отчет по лабораторной работе

## Состав команды

| ФИО         | Что делал           | Оценка |
|-------------|----------------|--------|
| Березуцкий Иван Викторович         | 3 термина, разработка терминов, сбор информации, автоматическое проставление перекрёстных ссылок |      |
| Гусейнова Тамаша Мазаировна         | 3 термина, автоматическое проставление перекрёстных ссылок, сбор информации | |
| Ермаков Ярослав Валерьевич         | 3 термина, автоматизация генерации md страничек с api gigachat |  |
| Иванов Илья Михайлович         | 3 термина, отчет, автоматизация генерации md страничек с api gigachat | |
| Ступина Мария Алексеевна         | 3 термина, валидация результатов генерации, автоматическое проставление перекрёстных ссылок | |

## Концептуализация предметной области

В рамках нашей работы мы проводили концептуализацию предметной области **видеоигр**, чтобы создать структурированную модель знаний, которая будет понятна детям. Концептуализация включала в себя:

1. **Определение ключевых понятий** – мы выделили 15 базовых терминов, которые составляют основу мира видеоигр. Среди них: **Компьютерная игра, Жанр игры, Разработчик, Издатель, Игровой движок, Игровая механика, Сюжет, Игровой персонаж, Многопользовательский режим, Игровое сообщество, Киберспорт, Дополненная реальность (AR), Виртуальная реальность (VR), Геймификация, Игровая платформа**.
2. **Выявление связей между понятиями** – построили логические взаимосвязи между терминами, чтобы показать их влияние друг на друга. Например, **Игровой движок** напрямую влияет на **Игровую механику**, а **Жанр игры** — на **Сюжет**.
3. **Создание графической модели** – с помощью **PlantUML** мы визуализировали структуру связей между понятиями в виде графа. Наглядно представили, как элементы видеоигр взаимодействуют друг с другом.

### Используемые инструменты

Для построения концептуальной модели и визуализации знаний использовались:
- **Wikidata и DBpedia** – для анализа существующих онтологий и сбора информации о видеоигровых терминах.
- **PlantUML** – для построения графа терминов и связей между ними.

### Связи между онтологиями:
- **Компьютерная игра** связана с **Жанром игры**, **Разработчиком**, **Издателем** и **Игровым движком**, так как объединяет в себе все аспекты разработки, маркетинга и технической реализации.
- **Жанр игры** определяет особенности **Игровой механики** и **Сюжета**, создавая базис для уникального игрового опыта.
- **Разработчик** отвечает за создание **Компьютерной игры**, выбирает **Игровой движок** и формирует **Игровую механику**, влияя на общую структуру продукта.
- **Издатель** способствует выпуску **Компьютерной игры** на рынок и поддерживает **Игровое сообщество** через маркетинг и распространение.
- **Игровой движок** является технологической основой, обеспечивая реализацию **Игровой механики** и поддерживая возможности для **Дополненной реальности (AR)** и **Виртуальной реальности (VR)**.
- **Игровая механика** определяет правила и динамику **Компьютерной игры** и закладывает основу для применения **Геймификации** в других сферах.
- **Сюжет** добавляет глубину **Компьютерной игре**, тесно связанный с **Жанром игры** и влияющий на восприятие **Игрового персонажа**.
- **Игровой персонаж** является ключевым элементом **Сюжета** и представляет игрока в виртуальном пространстве, способствуя эмоциональной вовлеченности.
- **Многопользовательский режим** способствует формированию **Игрового сообщества** и поддерживает развитие **Киберспорта** благодаря взаимодействию игроков.
- **Игровое сообщество** связано с **Многопользовательским режимом**, объединяя игроков для обмена опытом и обсуждения стратегии.
- **Киберспорт** развивается на базе **Многопользовательского режима** и активного **Игрового сообщества**, превращая игру в конкурентную спортивную дисциплину.
- **Дополненная реальность (AR)** расширяет возможности **Компьютерной игры** за счет внедрения виртуальных элементов в реальный мир, при этом опираясь на функционал **Игрового движка**.
- **Виртуальная реальность (VR)** обеспечивает полное погружение в цифровую среду **Компьютерной игры**, что также зависит от возможностей **Игрового движка**.
- **Геймификация** использует принципы **Игровой механики** для мотивации и вовлечения в неигровые процессы, демонстрируя универсальность игровых элементов.
- **Игровая платформа** является местом реализации **Компьютерной игры**, обеспечивая доступ к продукту и его взаимодействие с пользователями на различных устройствах.

### Получившийся граф
![graph](docs/diagram.svg)

## Написание текстов

### Автоматическая генерация контента

Для написания текстов мы использовали **LLM API GigaChat**, который позволил автоматически генерировать объяснения финансовых терминов, адаптированные для детей. Весь процесс был реализован программно, для поддержания единообразия стиля и высокую скорость создания материалов.

Мы подготовили список тем, соответствующих концептуальной модели, и передавали их в **GigaChat API** с помощью Python-скрипта. Для этого использовался следующий промпт:

```plaintext
Представь, что ты специалист по видеоиграм, который отлично умеет объяснять сложные вещи простым языком. Ты хорошо разбираешься в играх и знаешь всё про то, как они создаются, работают и становятся популярными.

Твоя задача — тебе будут приходить понятия, связанные с видеоиграми. Тебе нужно написать длинную, интересную, яркую, весёлую и познавательную статью по заданному понятию. Пиши для ребёнка 7 лет. 

Все термины, которые связаны с другим понятием, **пометь звёздочками**. Вот список понятий, которые мы будем обсуждать:

- **Компьютерная игра**
- **Жанр игры**
- **Разработчик**
- **Издатель**
- **Игровой движок**
- **Игровая механика**
- **Сюжет**
- **Игровой персонаж**
- **Многопользовательский режим**
- **Игровое сообщество**
- **Киберспорт**
- **Дополненная реальность (AR)**
- **Виртуальная реальность (VR)**
- **Геймификация** 
- **Игровая платформа**

---

### Правила:
1. На выходе должна быть markdown страница.
2. Пиши простыми словами.
3. Используй примеры из игр и жизни детей, чтобы объяснить понятия.
4. Каждый термин, который связан с другим понятием, отмечай звёздочками и добавляй сноски с определениями.
5. Начинай с простого определения, затем рассказывай интересную историю или аналогию.
6. В конце делай небольшой вывод, чтобы легко запомнить материал.
7. Пиши структурированно и увлекательно.

---

Пример запроса:  
- Понятие: **Компьютерная игра**  
- Ожидаемый ответ: Полная статья о том, что такое компьютерная игра, как она создаётся, кто её делает, как люди играют и почему это интересно.

Готов писать статьи, которые будут понятны и интересны детям? Начинаем!

Понятие: {query}
```

### Расстановка перекрёстных ссылок

Для удобства навигации по энциклопедии и создания связности между терминами мы реализовали **автоматическую расстановку ссылок**. Это было сделано с помощью библиотеки **pymorphy3**, которая позволяет приводить слова к начальной форме (лемматизация) и находить их в тексте.

Алгоритм работы:
1. **Загружались все markdown-файлы** с определениями терминов.
2. **Создавался словарь терминов и их путей** на основе JSON-файла.
3. **Каждое слово в тексте проверялось**, и если оно совпадало с термином из словаря (с учётом падежей и склонений), оно заменялось на markdown-ссылку.
4. **Обновлённые файлы сохранялись** с уже вставленными ссылками.


Пример форматирования ссылки в тексте:
```markdown
Итак, мы познакомились с тремя важными ролями в мире компьютерных игр: [разработчик](game_developers.md), [издатель](game_publisher.md) и игровой движок.
```


## Выводы
### Сложности, с которыми мы столкнулись

1. **Генерация детских объяснений через LLM**
    - Проблема: Иногда GigaChat давал слишком сложные объяснения или использовал формальный стиль.
    - Решение: Улучшили промпт, добавив конкретные инструкции, включая просьбу использовать сравнения и эмодзи.
    - Итог: После нескольких итераций текст стал понятнее и дружелюбнее.
    
2. **Автоматическая расстановка ссылок**
    - Проблема: pymorphy3 не всегда правильно определял начальную форму слов (особенно сложные составные термины).
    - Решение: Добавили список исключений и вручную дополнили словарь терминов.
    - Итог: Ссылки расставляются в большинстве случаев корректно, но остаётся небольшой процент ошибок, который лучше доработать.
    
3. **Структурирование знаний в графе**  
   – Проблема: Связи между некоторыми понятиями были неоднозначными (например, связь **Дополненная реальность (AR)** и **Виртуальная реальность (VR)** может иметь разный смысл).  
   – Решение: Добавили разные типы связей (иерархические, причинно-следственные, ассоциативные).  
   – Итог: Граф получился логичным, но в будущем можно детализировать связи.


### Что можно улучшить

🔹 **Тонкая настройка LLM** — можно попробовать другие модели или добавить дополнительные примеры в промпт.  
🔹 **Улучшение алгоритма расстановки ссылок** — добавить поддержку сложных терминов и учёт контекста.