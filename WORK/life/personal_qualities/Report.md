# Отчет по лабораторной работе

## Состав команды

| ФИО            | Группа      | Что делал                | Оценка |
| -------------- | ----------- | ------------------------ | ------ |
| Медведев Н.А.  | М8О-301Б-22 | скрипт генерации LLM по API, онтология, 3 понятия |        |
| Медведев Е.А.  | М8О-301Б-22 | 3 понятия, анализ WikiData                         |        |
| Чапалда М.О.   | М8О-301Б-22 | 3 понятия, написание отчета                         |        |
| Соловьева М.В. | М8О-301Б-22 | 3 понятия, генерация картинок для понятий          |        |
| Сарайкин Н.С.  | М8О-306Б-22 | создание графа, 3 понятия, создание ссылок между ними |        |

## Концептуализация предметной области

### Концептуализация онтологии

#### Основные классы:

1. **Личное качество**:
   - Подклассы: Положительные, Отрицательные, Нейтральные.
2. **Категория качества**:
   - Эмоциональные, Интеллектуальные, Социальные, Моральные.
3. **Контекст проявления**:
   - Семья, Работа, Дружба.

#### Понятия (15 штук):

1. Доброта (Положительное, Моральное)
2. Смелость (Положительное, Эмоциональное)
3. Честность (Положительное, Моральное)
4. Щедрость (Положительное, Социальное)
5. Эмпатия (Положительное, Эмоциональное)
6. Лень (Отрицательное, Социальное)
7. Лицемерие (Отрицательное, Моральное)
8. Жадность (Отрицательное, Социальное)
9. Вспыльчивость (Отрицательное, Эмоциональное)
10. Высокомерие (Отрицательное, Социальное)
11. Сдержанность (Нейтральное, Эмоциональное)
12. Любопытство (Нейтральное, Интеллектуальное)
13. Замкнутость (Нейтральное, Социальное)
14. Терпение (Положительное, Эмоциональное)
15. Ответственность (Положительное, Моральное)

#### Связи:

- **Иерархические**: "Доброта" is-a "Положительное качество".
- **Горизонтальные**:
  - "Эмпатия" усиливает "Доброту".
  - "Честность" противоположна "Лицемерию".
  - "Щедрость" проявляется в "Дружбе".
  - "Лень" ослабляет "Ответственность".

### Визуализация онтологии

Для визуализации онтологии был использован **Mermaid.js**, позволяющий создавать графические представления в Markdown. Граф отображает иерархические связи между понятиями, а также горизонтальные взаимосвязи.

**Используемые инструменты:**
- **Mermaid.js** – для построения графа.
- **Markdown** – для текстового представления онтологии.

## Написание текстов

Для генерации текстов использовался API **GigaChat**, взаимодействие с которым происходило через Python-скрипт. В качестве входных данных использовались заранее подготовленные промпты, ориентированные на объяснение понятий детям 10 лет.

Пример промпта:
```plaintext
Объясни понятие "Доброта" ребенку 10 лет. Используй простые слова, примеры из жизни и эмодзи.
```
**Автоматическая генерация и обработка текстов**
- Генерация – Python-скрипт отправлял запросы к API LLM, получая статьи в текстовом формате.

- Форматирование – статьи автоматически сохранялись в Markdown в папке KIDBOOK/.

- Добавление ссылок – разработан скрипт, который расставляет перекрестные ссылки между статьями. Он анализирует склонения слов и корректно вставляет гиперссылки.

***Используемые инструменты:***
- **Python**
- **API GigaChat**

**Сложности**
- Анализ WikiData и DBpedia показал, что извлечение релевантных фрагментов знаний с помощью SPARQL-запросов требует значительной доработки. Инструменты вроде Wikidata Visualization Tool оказались не столь удобными для автоматизированного сбора данных. В итоге этот этап не был полностью реализован.

**Основные трудности:**
- Ограниченный объем данных по интересующей предметной области

- Высокая сложность формирования корректных SPARQL-запросов

**Перекрестные ссылки в текстах**
- Автоматическая обработка склонений слов привела к трудностям при вставке гиперссылок в текст. Для решения использовался модуль NLTK, но потребовалась дополнительная ручная проверка.

**Генерация картинок**
- Первые версии изображений оказались низкого качества, требовалась постобработка. Использовался дополнительный стиль и доработка цветовой гаммы.

**Оптимизация запросов к LLM API**
- Ограничения на количество запросов и стоимость вынудили минимизировать количество обращений, группируя их по тематикам.

**Итоговые результаты**
- ✅ Создана онтология личных качеств (15 понятий).
- ✅ Визуализирован граф онтологии (Mermaid.js).
- ✅ Сгенерированы статьи с помощью LLM (15 текстов).
- ✅ Реализована система перекрестных ссылок между понятиями.
- ✅ Оформлена структура репозитория (WORK/, KIDBOOK/, scripts/, data/).

**Выводы**
- Мы считаем что справились с основной частью задания лабораторной работы, получили хорошие результаты и красиво оформили их как в отчете так и в рабочих дирикториях, получили новый и весьма интересный опыт работы с LLM API и построением графа со ссылками на понятиям, результатами довольны и надеемся на весьма положительную оценку. 

**Возможные улучшения:**
- Внедрить автоматическое извлечение информации из WikiData с помощью SPARQL-запросов и качественная фильтрация их результатов.

- Улучшение качества картинок: использовать генеративные модели (Stable Diffusion, DALL·E).

- Гибкость онтологии: добавить возможность расширения с новыми качествами и категориями.
