# Отчет по лабораторной работе

## Состав команды

|               ФИО                | Что делал         | Оценка |
|----------------------------------|-------------------|--------|
| Соколова Виктория Дмитриевна 301 | Тимлид, онтология |        |
| Анциборко Леонид Витальевич  308 |      api llm      |        |
| Жиденко Александр Сергеевич  301 |      ссылки       |        |
|   Жбанов Данила Сергеевич    301 |      ссылки       |        |
| Пирязев Михаил Александрович 307 |   SPARQL-запросы  |        |

## Концептуализация предметной области

Концептуализация была выполнена на основе анализа структурированных данных из WikiData и тематических статей Википедии. С помощью SPARQL-запросов формировался файл first_aid.json, содержащий ключевые понятия и ссылки на соответствующие вики-материалы. Затем эти данные использовались в Python-скриптах для формирования запросов к API языковой модели GigaChat, что обеспечивало высокую точность и релевантность итоговых текстов. Пример SPARQL-запроса: 
SELECT ?item ?itemLabel WHERE {
  ?item wdt:P921 wd:Q133981.
  SERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }
}
Для наглядного отображения структуры знаний применялся Mermaid.js, позволяющий визуализировать иерархические (Основы первой помощи → Аптечка первой помощи, Основы первой помощи → Кровотечения и тд) и горизонтальные (Аптечка первой помощи → Кровотечения, Потеря сознания → Сердечно-легочная реанимация (СЛР) и тд) связи. В совокупности было учтено более 15 ключевых понятий, что позволило построить детализированную онтологию предметной области.

## Написание текстов

Основные тексты статей генерировались программно с помощью GigaChat API по специальному промпту, в котором указывалось, что стиль изложения должен быть адаптирован для детей и максимально доступен для понимания. Для каждого текста скрипт передавал в GigaChat информацию о теме статьи (из first_aid.json), включая ключевые слова и примеры связанных концепций. Для генерации применялся специально разработанный промпт: «Представь, что ты врач с огромным опытом работы и профессионал во всех сферах. Мне нужно, чтобы ты написал статью для детского справочника. Вот тема статьи {theme}. Учти, что ты объясняешь вещи из этой статьи для детей, поэтому приводи простые и наглядные примеры, не используй сложную лексику. Украшай речь средствами художественной выразительности. НЕ используй никакого форматирования. В ответе пиши ТОЛЬКО текст статьи.»

После получения черновика статьи Python-скрипт автоматически анализировал текст, выявлял в нём упоминания терминов, соответствующих другим статьям, и проставлял гиперссылки в формате [[Название статьи]]. При этом учитывалась простая морфологическая обработка, чтобы повысить точность поиска ключевых слов. Если нужный термин находился, скрипт добавлял к нему ссылку на соответствующую статью справочника.

Такой подход позволил избежать ручной правки каждого вхождения термина и значительно ускорил процесс интеграции ссылок. По итогам автоматической вставки гиперссылок часть текстов проверялась вручную, чтобы убедиться, что ссылки указывают на действительно релевантный материал и корректно согласованы с контекстом.

## Выводы

В процессе работы возникли следующие сложности:
1) При формировании SPARQL-запросов не всегда удавалось получить все необходимые связи, что потребовало дополнительных уточнений структуры предметной области.
2) Несмотря на использование простой проверки форм слова в Python-скрипте, приходилось дорабатывать некоторые случаи, связанные со сложными падежами и вариантами написания (особенно в русском языке).
3) Иногда требовались дополнительные уточнения, чтобы тексты были максимально понятны детям.

Что выполнено:
1) Сформирована подробная модель предметной области с использованием WikiData, SPARQL-запросов и визуализации через Mermaid.js.
2) Тексты написаны при помощи GigaChat API, а их содержание адаптировано для детской аудитории.
3) Автоматическая вставка гиперссылок с помощью Python-скриптов значительно упростила процесс связки статей и повысила удобство навигации по справочнику.

Для дальнейшего развития проекта можно рассмотреть:
1) Применение более продвинутых моделей морфологического анализа для ещё более точной вставки ссылок.
2) Расширение набора данных из WikiData или использование других источников, чтобы охватить больше аспектов первой помощи и смежных тем.
